REM SO, WHAT DO WE WANT TO DO?
REM I GUESS BASICALLY ALL WE NEED TO DO, IS
REM DIG THROUGH FROM $0801 AND FIND LINE NUMBER
REM 6000, AND THEN MODIFY THAT AS WE PLEASE.
REM PERHAPS EVEN THAT IS UNNECESSARY, AS WE CAN JUST
REM FIND THE LAST LINE AND MODIFY THAT AS WE PLEASE.

10 PADDR = $0000
20 ADDR = $0801
30 NADDR = PEEK(ADDR) + 256 * PEEK(ADDR+1)
40 IF NADDR = 0 THEN GOTO 1000
50 LNNO = PEEK(ADDR+2) + 256 * PEEK(ADDR+3)
60 PADDR = ADDR
70 ADDR = NADDR
80 GOTO 30

1000 REM THEN WE'RE PROCESSING THE LAST LINENO.
1010 REM FIRST TRY ALL THE SINGLE BYTE COMBINATIONS
1020 POKE PADDR+2, $70
1030 POKE PADDR+3, $17
1040 PHI = INT((PADDR + 6) / 256)
1050 PLO = (PADDR+6) - PHI * 256
1060 POKE PADDR + 0, PLO
1070 POKE PADDR + 1, PHI
1080 POKE PADDR + 6, 0
1090 POKE PADDR + 7, 0
1100 POKE PADDR + 8, 0
1110 FOR I = 0 TO 255
1120 POKE PADDR + 4, I
1130 POKE PADDR + 5, 0
1140 CLS
1150 LIST 6000
1160 NEXT I

1170 PHI = INT((PADDR + 6) / 256)
1180 PLO = (PADDR+6) - PHI * 256
1190 POKE PADDR + 0, PLO
1200 POKE PADDR + 1, PHI
1210 POKE PADDR + 2, $70
1220 POKE PADDR + 3, $17
1230 POKE PADDR + 4, 153
1240 POKE PADDR + 5, 0
1250 POKE PADDR + 6, 0
1260 POKE PADDR + 7, 0

5000 END

6000 BSAVE
